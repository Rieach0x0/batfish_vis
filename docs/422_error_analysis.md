# 422ã‚¨ãƒ©ãƒ¼ - åŽŸå› åˆ†æžã¨ä¿®æ­£å†…å®¹

## ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°åˆ†æžçµæžœ

### åˆ¤æ˜Žã—ãŸã“ã¨

`D:\batfish_vis\log\frontend_error.log` ã®åˆ†æžã«ã‚ˆã‚Šã€ä»¥ä¸‹ãŒåˆ¤æ˜Žã—ã¾ã—ãŸï¼š

#### âœ… ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã¯æ­£å¸¸ã«å‹•ä½œã—ã¦ã„ã‚‹

1. **ãƒ•ã‚¡ã‚¤ãƒ«é¸æŠž**: 18ãƒ•ã‚¡ã‚¤ãƒ«ãŒæ­£ã—ãé¸æŠžã•ã‚Œã¦ã„ã‚‹ï¼ˆline 4-7ï¼‰
2. **FormDataä½œæˆ**: ã™ã¹ã¦ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒFormDataã«è¿½åŠ ã•ã‚Œã¦ã„ã‚‹ï¼ˆline 34-54ï¼‰
3. **ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿**: `snapshotName: "ex"`, `networkName: "default"` ãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹

#### âœ… é€ä¿¡ã•ã‚Œã¦ã„ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ä¸€è¦§

| ãƒ•ã‚¡ã‚¤ãƒ«å | ã‚µã‚¤ã‚º | ã‚¿ã‚¤ãƒ— | å‚™è€ƒ |
|-----------|--------|--------|------|
| example-network.png | 99,260 bytes | image/png | âš ï¸ **ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«** |
| host1.iptables | 578 bytes | (ç©º) | Batfish hostsè¨­å®š |
| host2.iptables | 575 bytes | (ç©º) | Batfish hostsè¨­å®š |
| host1.json | 197 bytes | application/json | Batfish hostsè¨­å®š |
| host2.json | 198 bytes | application/json | Batfish hostsè¨­å®š |
| as1border1.cfg | 3,706 bytes | (ç©º) | âœ… ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è¨­å®š |
| as1border2.cfg | 3,847 bytes | (ç©º) | âœ… ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è¨­å®š |
| as1core1.cfg | 1,712 bytes | (ç©º) | âœ… ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è¨­å®š |
| as2border1.cfg | 3,947 bytes | (ç©º) | âœ… ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è¨­å®š |
| as2border2.cfg | 3,837 bytes | (ç©º) | âœ… ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è¨­å®š |
| as2core1.cfg | 2,240 bytes | (ç©º) | âœ… ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è¨­å®š |
| as2core2.cfg | 2,187 bytes | (ç©º) | âœ… ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è¨­å®š |
| as2dept1.cfg | 2,782 bytes | (ç©º) | âœ… ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è¨­å®š |
| as2dist1.cfg | 2,611 bytes | (ç©º) | âœ… ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è¨­å®š |
| as2dist2.cfg | 2,611 bytes | (ç©º) | âœ… ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è¨­å®š |
| as3border1.cfg | 3,473 bytes | (ç©º) | âœ… ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è¨­å®š |
| as3border2.cfg | 3,302 bytes | (ç©º) | âœ… ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è¨­å®š |
| as3core1.cfg | 1,938 bytes | (ç©º) | âœ… ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯è¨­å®š |

#### âŒ å•é¡Œã®åŽŸå› å€™è£œ

1. **ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ãŒå«ã¾ã‚Œã¦ã„ã‚‹**: `example-network.png` (99KB) ã¯è¨­å®šãƒ•ã‚¡ã‚¤ãƒ«ã§ã¯ãªã„
2. **`.iptables` ãƒ•ã‚¡ã‚¤ãƒ«**: Batfishã® `hosts/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªç”¨ã®ãƒ•ã‚¡ã‚¤ãƒ«ã ãŒã€ãƒ«ãƒ¼ãƒˆãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«é…ç½®ã•ã‚Œã¦ã„ã‚‹å¯èƒ½æ€§
3. **`.json` ãƒ•ã‚¡ã‚¤ãƒ«**: åŒæ§˜ã«Batfish hostsè¨­å®šã ãŒã€é©åˆ‡ãªä½ç½®ã«ãªã„å¯èƒ½æ€§
4. **FastAPIã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³**: ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãŒç‰¹å®šã®ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼ã®ã¿ã‚’æœŸå¾…ã—ã¦ã„ã‚‹å¯èƒ½æ€§

#### ðŸ” 422ã‚¨ãƒ©ãƒ¼ã®ç™ºç”Ÿç®‡æ‰€

line 57-61ã®ãƒ­ã‚°ã‹ã‚‰ï¼š
```
POST http://localhost:8000/api/snapshots 422 (Unprocessable Entity)
```

**é‡è¦**: ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ãƒ­ã‚°ãŒæä¾›ã•ã‚Œã¦ã„ãªã„ãŸã‚ã€FastAPIã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ã®è©³ç´°ãŒä¸æ˜Žã§ã™ã€‚

### è¿½åŠ ã®å•é¡Œ

**line 8**: æ­£è¦è¡¨ç¾ã®è­¦å‘Šï¼ˆã™ã§ã«ä¿®æ­£æ¸ˆã¿ï¼‰
```
Pattern attribute value [a-zA-Z0-9_-]+ is not a valid regular expression
```

ã“ã‚Œã¯ç›´æŽ¥ã®422ã‚¨ãƒ©ãƒ¼ã®åŽŸå› ã§ã¯ã‚ã‚Šã¾ã›ã‚“ãŒã€ä¿®æ­£ã—ã¾ã—ãŸã€‚

## å®Ÿæ–½ã—ãŸä¿®æ­£

### 1. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰: æ­£è¦è¡¨ç¾ã®ä¿®æ­£

**ãƒ•ã‚¡ã‚¤ãƒ«**: `frontend/src/components/SnapshotUpload.js`

**å¤‰æ›´å‰**:
```html
pattern="[a-zA-Z0-9_-]+"
```

**å¤‰æ›´å¾Œ**:
```html
pattern="[a-zA-Z0-9_\-]+"
```

ãƒã‚¤ãƒ•ãƒ³ `-` ã‚’ã‚¨ã‚¹ã‚±ãƒ¼ãƒ—ã—ã¦ã€ãƒ–ãƒ©ã‚¦ã‚¶ã®è­¦å‘Šã‚’è§£æ¶ˆã—ã¾ã—ãŸã€‚

### 2. ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰: 422ã‚¨ãƒ©ãƒ¼ã®è©³ç´°ãƒ­ã‚°ã‚’è¿½åŠ 

**ãƒ•ã‚¡ã‚¤ãƒ«**: `backend/src/main.py`

**è¿½åŠ å†…å®¹**:
- `RequestValidationError` ã®ä¾‹å¤–ãƒãƒ³ãƒ‰ãƒ©ãƒ¼ã‚’è¿½åŠ 
- FastAPIã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ã‚’è©³ç´°ã«ãƒ­ã‚°å‡ºåŠ›
- ã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹ã«`details`é…åˆ—ã‚’å«ã‚ã‚‹

```python
@app.exception_handler(RequestValidationError)
async def validation_exception_handler(request: Request, exc: RequestValidationError):
    logger.error(
        "Request validation error (422)",
        extra={
            "url": str(request.url),
            "method": request.method,
            "errors": exc.errors(),
            "body": exc.body if hasattr(exc, 'body') else None
        }
    )

    # Log detailed error information
    for error in exc.errors():
        logger.error(
            f"Validation error detail",
            extra={
                "loc": error.get("loc"),
                "msg": error.get("msg"),
                "type": error.get("type"),
                "input": error.get("input")
            }
        )

    return JSONResponse(
        status_code=status.HTTP_422_UNPROCESSABLE_ENTITY,
        content={
            "error": "Validation Error",
            "message": "Request validation failed",
            "code": "VALIDATION_ERROR",
            "details": exc.errors()
        }
    )
```

ã“ã‚Œã«ã‚ˆã‚Šã€ä»¥ä¸‹ã®æƒ…å ±ãŒãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ­ã‚°ã«å‡ºåŠ›ã•ã‚Œã‚‹ã‚ˆã†ã«ãªã‚Šã¾ã™ï¼š
- ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ãŸãƒ•ã‚£ãƒ¼ãƒ«ãƒ‰ (`loc`)
- ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ (`msg`)
- ã‚¨ãƒ©ãƒ¼ã‚¿ã‚¤ãƒ— (`type`)
- å…¥åŠ›å€¤ (`input`)

### 3. ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰: 422ã‚¨ãƒ©ãƒ¼æ™‚ã®è©³ç´°è¡¨ç¤º

**ãƒ•ã‚¡ã‚¤ãƒ«**: `frontend/src/components/SnapshotUpload.js`

**è¿½åŠ å†…å®¹**:
- 422ã‚¨ãƒ©ãƒ¼æ™‚ã«è©³ç´°ãªãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’è¡¨ç¤º
- ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ã®è©³ç´°ã‚’ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«å‡ºåŠ›

```javascript
} else if (error.status === 422) {
  errorMessage = 'Invalid request. Please check the error details in browser console.';
  // Log detailed validation errors
  if (error.details) {
    console.error('[VALIDATION ERROR] Details:', error.details);
    console.error('[VALIDATION ERROR] Please check:');
    console.error('  1. All files are valid network configuration files');
    console.error('  2. Snapshot name contains only alphanumeric, hyphen, underscore');
    console.error('  3. Files are not corrupted or empty');
  }
}
```

## æ¬¡ã«å®Ÿæ–½ã—ã¦ã»ã—ã„ã“ã¨

### æ‰‹é †1: ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚’å†èµ·å‹•

WSL Ubuntuã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ï¼š

```bash
# ç¾åœ¨ã®ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚’åœæ­¢ï¼ˆCtrl+Cï¼‰

cd ~/batfish_vis/backend
source .venv/bin/activate

# LOG_LEVELã‚’DEBUGã«è¨­å®šï¼ˆ.envãƒ•ã‚¡ã‚¤ãƒ«ï¼‰
cat > .env << EOF
BATFISH_HOST=localhost
BATFISH_PORT=9996
LOG_LEVEL=DEBUG
EOF

# ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚’å†èµ·å‹•
uv run uvicorn src.main:app --reload --host 0.0.0.0 --port 8000 --log-level debug
```

### æ‰‹é †2: ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚’å†èµ·å‹•

Windows PowerShellã§ï¼š

```powershell
# ç¾åœ¨ã®ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚’åœæ­¢ï¼ˆCtrl+Cï¼‰

cd D:\batfish_vis\frontend

# ãƒ–ãƒ©ã‚¦ã‚¶ã‚­ãƒ£ãƒƒã‚·ãƒ¥å¯¾ç­–: distã‚’å‰Šé™¤
Remove-Item -Recurse -Force dist -ErrorAction SilentlyContinue
Remove-Item -Recurse -Force node_modules\.vite -ErrorAction SilentlyContinue

# å†èµ·å‹•
npm run dev
```

### æ‰‹é †3: ãƒ–ãƒ©ã‚¦ã‚¶ã§ãƒ†ã‚¹ãƒˆ

1. ãƒ–ãƒ©ã‚¦ã‚¶ã§ **http://localhost:5173** ã«ã‚¢ã‚¯ã‚»ã‚¹
2. **F12** â†’ **Console** ã‚¿ãƒ–ã‚’é–‹ã
3. ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã‚’ã‚¯ãƒªã‚¢

4. **é‡è¦: .cfgãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿ã‚’é¸æŠžã—ã¦ãƒ†ã‚¹ãƒˆ**

   ã¾ãšã€ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ãªã©ã‚’é™¤å¤–ã—ã¦ãƒ†ã‚¹ãƒˆã—ã¾ã™ï¼š

   a. **Select Files** ã‚’é¸æŠžï¼ˆãƒ•ã‚©ãƒ«ãƒ€ã§ã¯ãªããƒ•ã‚¡ã‚¤ãƒ«ãƒ¢ãƒ¼ãƒ‰ï¼‰
   b. `D:\networks\example` ãƒ•ã‚©ãƒ«ãƒ€ã‚’é–‹ã
   c. **Ctrl+ã‚¯ãƒªãƒƒã‚¯** ã§ `.cfg` ãƒ•ã‚¡ã‚¤ãƒ«**ã®ã¿**ã‚’é¸æŠžï¼š
      - as1border1.cfg
      - as1border2.cfg
      - as1core1.cfg
      - as2border1.cfg
      - as2border2.cfg
      - as2core1.cfg
      - as2core2.cfg
      - as2dept1.cfg
      - as2dist1.cfg
      - as2dist2.cfg
      - as3border1.cfg
      - as3border2.cfg
      - as3core1.cfg
   d. **é–‹ã** ã‚’ã‚¯ãƒªãƒƒã‚¯
   e. Snapshot Name: `test-config-only`
   f. **Create Snapshot** ã‚’ã‚¯ãƒªãƒƒã‚¯

### æ‰‹é †4: ãƒ­ã‚°ã‚’ç¢ºèª

#### A. ãƒ–ãƒ©ã‚¦ã‚¶ã‚³ãƒ³ã‚½ãƒ¼ãƒ«

æœŸå¾…ã•ã‚Œã‚‹ãƒ­ã‚°:
```
[DEBUG] selectedFiles.length: 13
[DEBUG] Form submission starting
[DEBUG] createSnapshot called with: { fileCount: 13 }
```

422ã‚¨ãƒ©ãƒ¼ãŒå‡ºãŸå ´åˆ:
```
[VALIDATION ERROR] Details: [...]
[VALIDATION ERROR] Please check:
  1. All files are valid network configuration files
  2. Snapshot name contains only alphanumeric, hyphen, underscore
  3. Files are not corrupted or empty
```

#### B. ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ­ã‚°ï¼ˆWSL Ubuntuã‚¿ãƒ¼ãƒŸãƒŠãƒ«ï¼‰

**æˆåŠŸã™ã‚‹å ´åˆ**:
```
INFO: Snapshot creation request received
  snapshot: test-config-only
  network: default
  file_count: 13
  files: ['as1border1.cfg', 'as1border2.cfg', ...]
```

**422ã‚¨ãƒ©ãƒ¼ãŒå‡ºã‚‹å ´åˆ**:
```
ERROR: Request validation error (422)
  url: http://localhost:8000/api/snapshots
  method: POST
  errors: [...]
ERROR: Validation error detail
  loc: ['body', 'configFiles']
  msg: field required
  type: value_error.missing
```

### æ‰‹é †5: çµæžœã‚’å ±å‘Š

ä»¥ä¸‹ã®æƒ…å ±ã‚’å ±å‘Šã—ã¦ãã ã•ã„ï¼š

#### A. ãƒ†ã‚¹ãƒˆçµæžœ

- .cfgãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿é¸æŠž: æˆåŠŸ / å¤±æ•—

#### B. ãƒ–ãƒ©ã‚¦ã‚¶ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ãƒ­ã‚°

`[DEBUG]` ã¨ `[VALIDATION ERROR]` ã§å§‹ã¾ã‚‹è¡Œã‚’ã™ã¹ã¦ã‚³ãƒ”ãƒ¼

#### C. ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ­ã‚°

WSL Ubuntuã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã«è¡¨ç¤ºã•ã‚ŒãŸ**ã™ã¹ã¦ã®ãƒ­ã‚°**ã‚’ã‚³ãƒ”ãƒ¼

ç‰¹ã«ä»¥ä¸‹ãŒé‡è¦ï¼š
- `Request validation error (422)` ã§å§‹ã¾ã‚‹è¡Œ
- `Validation error detail` ã§å§‹ã¾ã‚‹è¡Œ

## äºˆæƒ³ã•ã‚Œã‚‹çµæžœ

### ã‚·ãƒŠãƒªã‚ª1: .cfgãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿ã§æˆåŠŸ

â†’ **åŽŸå› **: ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ã‚„.json/.iptablesãƒ•ã‚¡ã‚¤ãƒ«ãŒãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã§æ‹’å¦ã•ã‚Œã¦ã„ã‚‹

**å¯¾ç­–**: ãƒ•ã‚©ãƒ«ãƒ€ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ™‚ã«ã€ç‰¹å®šã®ãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼ã®ã¿ã‚’ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°ã™ã‚‹æ©Ÿèƒ½ã‚’è¿½åŠ 

### ã‚·ãƒŠãƒªã‚ª2: .cfgãƒ•ã‚¡ã‚¤ãƒ«ã®ã¿ã§ã‚‚422ã‚¨ãƒ©ãƒ¼

â†’ **åŽŸå› **: ãƒ•ã‚¡ã‚¤ãƒ«å†…å®¹ã€ãƒ•ã‚¡ã‚¤ãƒ«åã€ã¾ãŸã¯ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã®ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ãƒ­ã‚¸ãƒƒã‚¯ã«å•é¡ŒãŒã‚ã‚‹

**å¯¾ç­–**: ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ­ã‚°ã®è©³ç´°ã‚’ç¢ºèªã—ã¦ã€å…·ä½“çš„ãªãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ã‚’ç‰¹å®š

### ã‚·ãƒŠãƒªã‚ª3: ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ­ã‚°ã«ä½•ã‚‚è¡¨ç¤ºã•ã‚Œãªã„

â†’ **åŽŸå› **: ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãŒãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’å—ä¿¡ã—ã¦ã„ãªã„ã€ã¾ãŸã¯CORS/ãƒãƒƒãƒˆãƒ¯ãƒ¼ã‚¯ã®å•é¡Œ

**å¯¾ç­–**:
- ãƒ–ãƒ©ã‚¦ã‚¶ã®Networkã‚¿ãƒ–ã§ãƒªã‚¯ã‚¨ã‚¹ãƒˆã®è©³ç´°ã‚’ç¢ºèª
- curlã§ç›´æŽ¥ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã‚’ãƒ†ã‚¹ãƒˆ

## Batfishã®ãƒ•ã‚©ãƒ«ãƒ€æ§‹é€ ã«ã¤ã„ã¦

Batfishã¯ä»¥ä¸‹ã®ã‚ˆã†ãªãƒ•ã‚©ãƒ«ãƒ€æ§‹é€ ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ï¼š

### æ¨™æº–æ§‹é€ ï¼ˆæŽ¨å¥¨ï¼‰

```
snapshot/
â”œâ”€â”€ configs/
â”‚   â”œâ”€â”€ router1.cfg
â”‚   â”œâ”€â”€ router2.cfg
â”‚   â””â”€â”€ switch1.cfg
â””â”€â”€ hosts/
    â”œâ”€â”€ host1.json
    â”œâ”€â”€ host2.json
    â”œâ”€â”€ host1.iptables
    â””â”€â”€ host2.iptables
```

### ãƒ•ãƒ©ãƒƒãƒˆæ§‹é€ ï¼ˆç¾åœ¨ã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ï¼‰

```
snapshot/
â”œâ”€â”€ router1.cfg
â”œâ”€â”€ router2.cfg
â”œâ”€â”€ switch1.cfg
â”œâ”€â”€ host1.json
â”œâ”€â”€ host2.json
â”œâ”€â”€ host1.iptables
â””â”€â”€ host2.iptables
```

Batfishè‡ªä½“ã¯ä¸¡æ–¹ã®æ§‹é€ ã‚’ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã™ãŒã€**ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆ.pngï¼‰ã¯ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ã¾ã›ã‚“**ã€‚

## ã¾ã¨ã‚

**ä¿®æ­£å†…å®¹**:
1. âœ… ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰: æ­£è¦è¡¨ç¾ã®è­¦å‘Šã‚’ä¿®æ­£
2. âœ… ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰: 422ã‚¨ãƒ©ãƒ¼ã®è©³ç´°ãƒ­ã‚°ã‚’è¿½åŠ 
3. âœ… ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰: 422ã‚¨ãƒ©ãƒ¼æ™‚ã®è©³ç´°è¡¨ç¤ºã‚’è¿½åŠ 

**æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—**:
1. ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã¨ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ã‚’å†èµ·å‹•
2. .cfgãƒ•ã‚¡ã‚¤ãƒ«**ã®ã¿**ã‚’é¸æŠžã—ã¦ãƒ†ã‚¹ãƒˆ
3. ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ­ã‚°ã¨ãƒ–ãƒ©ã‚¦ã‚¶ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ãƒ­ã‚°ã‚’å ±å‘Š

**äºˆæƒ³ã•ã‚Œã‚‹åŽŸå› **:
- ç”»åƒãƒ•ã‚¡ã‚¤ãƒ«ï¼ˆexample-network.pngï¼‰ãŒãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ã‚’å¼•ãèµ·ã“ã—ã¦ã„ã‚‹
- ã¾ãŸã¯ã€.iptables/.jsonãƒ•ã‚¡ã‚¤ãƒ«ãŒãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ã§æ‹’å¦ã•ã‚Œã¦ã„ã‚‹

ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒ­ã‚°ã‚’ç¢ºèªã™ã‚‹ã“ã¨ã§ã€æ­£ç¢ºãªåŽŸå› ã‚’ç‰¹å®šã§ãã¾ã™ã€‚
